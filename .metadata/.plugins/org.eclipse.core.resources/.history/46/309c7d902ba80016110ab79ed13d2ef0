package main;


import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;

import crawlData.*;
import plagiarism.CheckPlagiarism;
import tokenize.Tokenize;

public class Main {
	
	/*static String urlMySQL = "jdbc:mysql://localhost/testcrawldata?useUnicode=true&characterEncoding=utf8";
	static String user = "root";
	static String password = "";*/
	
//	static String[] columns = new String[]{"title", "link"};
	static String currentURL = "http://tuoitre.vn/tin/chinh-tri-xa-hoi";

	public static void main(String[] args) {
//		MySQLAccess mySQLAccess = new MySQLAccess();
		CrawlTuoiTre crawlTuoiTre = new CrawlTuoiTre();
		CheckPlagiarism checkPlagiarism = new CheckPlagiarism();
		Tokenize tokenize = new Tokenize();
		String[] tokenizedContent;
		
		/*if(!mySQLAccess.connect(urlMySQL, user, password)){
			System.out.println("---Fail---");
			return;
		}*/
		
		/*//Lấy các link con từ link chủ đề
		ArrayList<String> links = crawlTuoiTre.getLinkItemsTuoiTre();
		ArrayList<String> sentences = new ArrayList<>();
		ArrayList<String> words = new ArrayList<>();
		String content;
		//Duyệt qua từng link con
		for(String link : links){
			//Lấy nội dung của link con
			content = crawlTuoiTre.getContentTuoitreOnline(link);
			//Lưu nội dung vào DB
			
			//Tokenize cho nội dung
			content = tokenize.tokenize(content);
			//Dùng đoạn văn đã tokenize tách thành từng câu
			sentences = checkPlagiarism.seperateSentences(content);
			//Dùng đoạn văn đã tokenize tách thành từng từ và loại bỏ stopword
			words = checkPlagiarism.seperateWords(content);
		}
		//Xóa hết link con trong mảng
		links.clear();
		//Xóa hết câu trong mảng
		sentences.clear();
		//Xóa hết từ trong mảng
		words.clear();*/
		
		String content1 = tokenize.tokenize("Hôm 10-11, Tổng thống Philippines Rodrigo Duterte và Thủ tướng Malaysia Najib Razak đã cùng hát karaoke tại bữa tiệc chiêu đãi cấp nhà nước ở hội trường khu vực Seri Perdana - Malaysia.");
		String content2 = tokenize.tokenize("Tổng thống Rodrigo Duterte kết thúc chuyến thăm cấp nhà nước tới Malaysia bằng một màn karaoke với Thủ tướng Najib Razak");
		/*System.out.println(content1.length());
		ArrayList<String> words1 = checkPlagiarism.seperateWords(content1);
		for(String word : words1){
			System.out.println(word);
		}
		ArrayList<String> sentences1 = checkPlagiarism.seperateSentences(content1);
		for(String s : sentences1){
			System.out.println(s);
		}*/
		
//		System.out.println(checkPlagiarism.getIDF("Malaysia", sentences1));
		
		System.out.println(checkPlagiarism.getSim(content1, content2));
		
	}
}
